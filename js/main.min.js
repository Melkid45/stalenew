function onEntry(e) {
  e.forEach((e) => {
    e.isIntersecting && e.target.classList.add("element-show");
  });
}
let options = { threshold: [0.5] },
  observer = new IntersectionObserver(onEntry, options),
  elements = document.querySelectorAll(".element-animation");
for (let e of elements) observer.observe(e);
var splide;

$('.sort__market-body-top-info-dop-filter').on('click', function(e){
  $('.sort__market-body-block-filter').addClass('active')
})
$('.close__filter').on('click', function(e){
  $('.sort__market-body-block-filter').removeClass('active')
})

$('.edit').on('click', function(e){
  $(this).prev('.user__body-block-items-wrap-left').children('input').removeAttr('readonly')
  $(this).prev('.user__body-block-items-wrap-left').children('input').focus()
})
$('.header__body-menu-main-catalog').on('click', function(e){
  $('.header__body-menu-main-modal').toggleClass('active')
  $(this).toggleClass('active')
})
$('.date').on('click', function(e){
  $(this).attr('placeholder', '')
})
$('.date').on('blur', function(e){
  if ($(this).val() == '')
  $(this).attr('placeholder', 'Желаемая дата')
})
$('.time__zone').on('click', function(e){
  $(this).children('span').addClass('none')
})
$('.time__zone').on('blur', function(e){
  if ($(this).val() == ''){
    $(this).children('span').removeClass('none')
  }
})
$(".sign__body-form-em").on("click", function (e) {
  $(this).children("span").addClass("active"),
    $(this).children("input").focus();
}),
  $(".sign__body-form-em input").on("blur", function (e) {
    "" == $(this).val() && $(this).prev("span").removeClass("active");
  }),
  $(".sign__body-form-pas").on("mouseover", function (e) {
    $(this).children("button").addClass("active");
  }),
  $(".sign__body-form-pas").on("mouseout", function (e) {
    $(this).children("button").removeClass("active");
  }),
  $(".sign__body-form-pas-btn").on("click", function (e) {
    "password" == $(this).prev("input").attr("type")
      ? $(this).prev("input").attr("type", "text")
      : $(this).prev("input").attr("type", "password");
  })
  $(".open__menu").on("click", function (e) {
    $(".header__catalog").toggleClass("active"), $(this).toggleClass("active"), $(this).children('.burger').toggleClass('active'), $('.header__body-catalog').toggleClass('active');
  }),
  $(".open__info").on("click", function (e) {
    $(".header__body-info").toggleClass("active"), $(this).toggleClass("active");
  }),
  $(".close__info").on("click", function (e) {
    $(".header__body-info").toggleClass("active"), $('.open__info').toggleClass("active");
  }),
  // $(window).on('scroll', function(e){
  //   let scroll = $(window).scrollTop()
  //   console.log(scroll)
  //   let width = $(window).width()
  //   if (scroll > 50 && width >= 700){
  //     $('.header__black').addClass('active__scroll')
  //     $('.header__logo-none').addClass('none')
  //     $('.header__black-active').removeClass('none')
  //     $('.header__black-body-menu-top-calc span').addClass('none')
  //   }else{
  //     $('.header__black').removeClass('active__scroll')
  //     $('.header__logo-none').removeClass('none')
  //     $('.header__black-active').addClass('none')
  //     $('.header__black-body-menu-top-calc span').removeClass('none')
  //   }
  // }),
  // $(window).on('scroll', function(e){
  //   let scroll = $(window).scrollTop()
  //   console.log(scroll)
  //   let width = $(window).width()
  //   if (scroll > 50 && width >= 700){
  //     $('.header__white').addClass('active__scroll')
  //     $('.header__white-body-menu-top-calc span').addClass('none')
  //   }else{
  //     $('.header__white').removeClass('active__scroll')
  //     $('.header__white-body-menu-top-calc span').removeClass('none')
  //   }
  // }),

  document.querySelectorAll(".header__mobile-menu-ac").forEach((el) => {
    el.addEventListener('click', ()=> {
        let cont = el.querySelector('.header__mobile-menu-ac ul');
        let con = cont.parentNode;
        if (cont.style.maxHeight) {
            document.querySelectorAll('.header__mobile-menu-ac ul').forEach((el)=> el.style.maxHeight = null)
            document.querySelectorAll('.header__mobile-menu-ac').forEach((el)=> el.classList.remove('open'))
        } else {
            document.querySelectorAll('.header__mobile-menu-ac ul').forEach((el)=> el.style.maxHeight = null)
            document.querySelectorAll('.header__mobile-menu-ac').forEach((el)=> el.classList.remove('open'))
            con.classList.add('open')
            cont.style.maxHeight = cont.scrollHeight + 'rem';
        }
    })
}),
  
  (splide = new Splide("#rev", { type: "loop", pagination: !1 })).mount(),
  (splide = new Splide("#dif", { type: "loop", pagination: !1 })).mount(),
  (splide = new Splide("#tak", { type: "loop", pagination: !1 })).mount();
